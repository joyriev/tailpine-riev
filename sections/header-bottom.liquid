<div class="header-bottom-bar">
  <div class="container">
    <span class="header-text">{{ section.settings.left_text }}</span>
    <span class="discount-box">{{ section.settings.middle_text }}</span>
    <a class="shop-link" href="{{ section.settings.link_url }}">
      {{ section.settings.right_text }}
    </a>
  </div>
</div>
<!-- Mobile view show only -->
{% assign has_images = false %}
{% for block in section.blocks %}
  {% if block.settings.icon_image != blank %}
    {% assign has_images = true %}
  {% endif %}
{% endfor %}

<div class="circle-icons-wrapper">
  <div class="circle-icons-container">
    {% if has_images %}
      {% for block in section.blocks %}
        {% if block.settings.icon_image != blank %}
          <a href="{% if block.settings.link_url != blank %}{{ block.settings.link_url }}{% elsif block.settings.collection != blank %}{{ block.settings.collection.url }}{% else %}#{% endif %}" class="circle-icon-block">
            <div class="circle-icon-img">
              <div class="collection-image">
               {{ block.settings.icon_image | image_url: width: '100', height: '100' | image_tag }}
              </div>
            </div>
            <div class="circle-icon-label">
              {% if block.settings.label != blank %}
                {{ block.settings.label }}
              {% elsif block.settings.collection != blank %}
                {{ block.settings.collection.title }}
              {% else %}
                Collection
              {% endif %}
            </div>
          </a>
        {% endif %}
      {% endfor %}
    {% else %}
      {%- assign defaults = "MEN,WOMEN,QUIZ,GIFTS,FRAGRANCES,NEW" | split: "," -%}
      {% for label in defaults %}
        <a href="#" class="circle-icon-block">
          <div class="circle-icon-img">
          {{ 'image' | placeholder_svg_tag }}
          </div>
          <div class="circle-icon-label">{{ label }}</div>
        </a>
      {% endfor %}
    {% endif %}
  </div>
</div>


<style>
.header-bottom-bar {
  background-color: #c32026;
  color: white;
  font-weight: bold;
  font-size: 14px;
  padding: 6.5px 0;
  text-align: center;
}

.header-bottom-bar .container {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-wrap: wrap;
  gap: 20px;
}

.header-bottom-bar .discount-box {
  background-color: #600b0b;
  color: #fff;
  font-size: 14px; 
  font-weight: bold;
  text-transform: uppercase;
  text-align: center;
  padding: 0.25rem 0.5rem; 
  border-radius: 0.375rem; 
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); 
  transform: rotate(-5deg); 
  transition: all 0.15s cubic-bezier(.4, 0, .2, 1); 
}

.header-bottom-bar .container:hover .discount-box {
  transform: rotate(-8deg); 
}

.header-bottom-bar .shop-link {
  color: #fff;
  text-decoration: none;
}

.header-bottom-bar .shop-link:hover {
  text-decoration: underline;
}

@media (max-width: 767px) {
  .header-bottom-bar {
    font-size: 12px;
    padding: 6px 0;
  }
  .header-bottom-bar .container {
    justify-content: space-around;
  }
}
/* collection circle css */
.circle-icons-wrapper {
  overflow-x: auto;
  padding: 10px 0;
  -ms-overflow-style: none;  
  scrollbar-width: none;  
  display:none;
}
.circle-icons-wrapper::-webkit-scrollbar {
  display: none;         
}

.circle-icons-wrapper .circle-icons-container {
  display: flex;
  gap: 10px;
  justify-content: flex-start;
  flex-wrap: nowrap;
  padding: 0 10px;
}

.circle-icons-wrapper .circle-icon-block {
  text-align: center;
  text-decoration: none;
  color: black;
  font-size: 12px;
  font-weight: 600;
  flex: 0 0 auto;
}

.circle-icons-wrapper .circle-icon-img {
  width: 70px;
  height: 70px;
  padding: 3px; /* Border thickness */
  border-radius: 50%;
  background: radial-gradient(circle at 30% 107%, #fdf497 0%, #fd5949 45%, #d6249f 60%, #285aeb 90%);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

/* For real images */
.circle-icons-wrapper .circle-inner-img {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
  display: block;
}

/* For Shopify placeholder SVG */
.circle-icons-wrapper .circle-placeholder {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  overflow: hidden;
}
.circle-icons-wrapper .circle-placeholder svg {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 50%;
}

.circle-icons-wrapper .circle-icon-label {
  margin-top: 4px;
  font-size: 0.75rem;
  text-transform: uppercase;
}

@media (max-width: 767px) {
 .circle-icons-wrapper {
  display:block;
 }
}
</style>

{% schema %}
{
  "name": "Header Bottom",
  "settings": [
    {
      "type": "text",
      "id": "left_text",
      "label": "Left Text",
      "default": "3X100ML SET"
    },
    {
      "type": "text",
      "id": "middle_text",
      "label": "Middle Text",
      "default": "40% OFF!"
    },
    {
      "type": "text",
      "id": "right_text",
      "label": "Right Text",
      "default": "SHOP NOW ðŸ‘‰"
    },
    {
      "type": "url",
      "id": "link_url",
      "label": "Link URL",
      "default": "/collections/all"
    }
  ],
  "blocks": [
    {
      "type": "icon",
      "name": "Icon Block",
      "settings": [
        {
          "type": "image_picker",
          "id": "icon_image",
          "label": "Circle Image",
          "info": "Size (70x70)px"
        },
        {
          "type": "text",
          "id": "label",
          "label": "Label",
          "default": "LABEL"
        },
        {
          "type": "url",
          "id": "link_url",
          "label": "Link"
        }
      ]
    }
  ],
  "presets": [
  {
    "name": "Header + Mobile Icons",
    "category": "Custom",
    "blocks": [
      {
        "type": "icon",
        "settings": {
          "label": "MEN"
        }
      },
      {
        "type": "icon",
        "settings": {
          "label": "WOMEN"
        }
      },
      {
        "type": "icon",
        "settings": {
          "label": "QUIZ"
        }
      },
      {
        "type": "icon",
        "settings": {
          "label": "FRAGRANCES"
        }
      },
      {
        "type": "icon",
        "settings": {
          "label": "GIFTS"
        }
      },
      {
        "type": "icon",
        "settings": {
          "label": "NEW"
        }
      }
    ]
  }
]

}
{% endschema %}
